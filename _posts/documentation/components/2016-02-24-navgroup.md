---
layout: feature-doc
title:  "Navgroup's"
date:   2016-02-24 00:31:01 +0000
date_updated : 2016-01-24 00:31:02 +0000

f_image    : "/images/navgroup@2x.png"
categories : components
tax        : display
---
Integrating the powerful Navgroup system into the user interface will allow you to build a quick complex navigation structure to your appliaction, allowing your users move around freely using keyboard events.
<!--more-->

![alt text]( /images/navgroup@2x.png "Logo Title Text 1")

### HTML markup
Use the `data-cwc-navgroup` to define a Navgroup. This should then be followed by the name of the Navgroup, `data-cwc-navgroup="custom-name"`. The `data-cwc-navitem` is used to define an item within a navigation group.

{% highlight html linenos %}
<ul class="search" data-cwc-navgroup="search" >
    <li data-cwc-navitem >Item .01</li>
    <li data-cwc-navitem >Item .02</li>
    <li data-cwc-navitem >Item .03</li>
</ul>
{% endhighlight %}

### JavaScript Declaration
`active_group_class` and `active_group_item` can be set when initiating the Navgroup component.

{% highlight javascript linenos %}
window.onload = function() {
  /*------------------------------------------------------
  * @object - CWC Main Navgroup Object
  * @info   - initiate CWC Navgroup Object
  */
  Navgroup = new cwc.Navgroup({
      active_group_class : 'custom_class_name', // `cwc-selected-group` by default
      active_group_item  : 'custom_class_name', // `cwc-selected-item` by default
  });
};
{% endhighlight %}

>The `cwc.Navigation({})` has to be initiated after the dom has finshed loading.

[comment]: <> (--------------------------------------------------------------------------------------------------------)
[comment]: <> (--------------------------------------------------------------------------------------------------------)

## Instructions and Overides
Instructions and Overides allow you to bind diffrent evets to either `data-cwc-navgroup` or `data-cwc-navitem`.
Binding instructions to a given Navgroup can be achived by applying the `data-cwc-instructions` attribute to its html markup.
The `data-cwc-navitem` also has its own set of instructions that can be applied using the `data-cwc-overrides`data attribute.

| Properties          | Type       | Instruction | Overide  | Description                                                              |
| ----------------    | ---------- | :-:         | :-:      | -------------------------------------------------------                  |
| history-item        | Boolean    | &#x2714;    |          | Will remember the last active item in navgroup to switch to              |
| start-here          | Boolean    |             | &#x2714; | The place you want the user to start.                                    |
| onentrance          | Hook       | &#x2714;    | &#x2714; | Hooks can be invoke by using the prefix 'hook-' follwed by the hook name |
| up                  | Action     | &#x2714;    | &#x2714; | Events keyboard keys (↑ & W), pass and Action as an argument             |
| right               | Action     | &#x2714;    | &#x2714; | Events keyboard keys (→ & D), pass and Action as an argument             |
| down                | Action     | &#x2714;    | &#x2714; | Events keyboard keys (↓ & S), pass and Action as an argument             |
| left                | Action     | &#x2714;    | &#x2714; | Events keyboard keys (→ & A), pass and Action as an argument             |
| enter               | Action     | &#x2714;    | &#x2714; | Events keyboard keys (↵)    , pass and Action as an argument

>Both `data-cwc-instructions` and `data-cwc-overrides` must be given in JSON format with each one of the keys-value pairs describe below. Overrides take priority over instructions, allowing from more complex navigations to be created.

### Actions
Actions allow you to other Navgroups or Navitems within the DOM. Hooks can also be included to allow for custom functions to be executed on different events.

| Action  (value)  | Description                                                               |
| ---------------- | -----------------------------------------------------------------------   |
| ng-next          | Will move to the Navgroup that was recorded after the current one.        |
| ng-prev          | Will move to the Navgroup that was recorded before the current one.       |
| ng-(name)        | Prefixing **`ng-`** followed by the navgroup name you wish to target.     |
| ni-next          | Select the next tem inside the given navgroup.                            |
| ni-prev          | Select the previous tem inside the given navgroup.                            |
| hook-*           | Prefixing **'hook-'** follwed by the name of the hook, will invoke hooks. |

#### Instruction example
{% highlight html linenos %}
data-cwc-instructions='{ "history-item" : "true", "left" : "ng-custom-navname", "up" : "ni-next" }'
{% endhighlight %}

#### Override example
{% highlight html linenos %}
data-cwc-overrides='{ "starting-point" : "true", "left" : "ng-custom-navname", "onitementrance" : "hook-on-enter" }'
{% endhighlight %}


[comment]: <> (--------------------------------------------------------------------------------------------------------)
[comment]: <> (--------------------------------------------------------------------------------------------------------)


## {{ page.title }} Hooks
You to spesify a Hook to be called **after** the **cwc** has moved to a new Navgroup or Navitem.

| Hook           | Description                                                                          |
| -------------  | ------------------------------------------------------------------------------------ |
| onnav-changed  | Callback method for when a navigation has moved to a new index. `tracking` object returned. |
| onitem-changed | Callback method for when an item has moved to a new index. `tracking` object returned.        |

{% highlight javascript linenos %}
/* -- onnav-changed-- */
Hooks.set_hook( {
  hook_name : 'onnav-changed',
  method    : function( tracking ) { tracking }
} );

/* -- onitem-changed-- */
Hooks.set_hook( {
  hook_name : 'onitem-changed',
  method    : function( tracking ) { tracking }
} );
{% endhighlight %}

### Tracking object

| Keys    | Description                                              |
| ------  | ---------------------------------------------------      |
| g_id    | The id of the active navigation group                    |
| g_name  | The name of the active navigation group                  |
| g_elm   | The html elment of the active navigation group           |
| i_id    | The id of the active item in a navigation group          |
| i_elm   | The html elment of the active item in a navigation group |


[comment]: <> (--------------------------------------------------------------------------------------------------------)
[comment]: <> (--------------------------------------------------------------------------------------------------------)


## Events
You can invoke a navigation movement with JavaScript by calling the `invoke_dir` method on the `cwc.Navigation()` object.

{% highlight javascript linenos %}
/* -- Navigation events -- */
Navigation.invoke_dir('up',    function( tracking ){ /* -- Logic here -- */ });
Navigation.invoke_dir('right', function( tracking ){ /* -- Logic here -- */ });
Navigation.invoke_dir('down',  function( tracking ){ /* -- Logic here -- */ });
Navigation.invoke_dir('left',  function( tracking ){ /* -- Logic here -- */ });
Navigation.invoke_dir('enter', function( tracking ){ /* -- Logic here -- */ });
{% endhighlight %}


[comment]: <> (--------------------------------------------------------------------------------------------------------)
[comment]: <> (--------------------------------------------------------------------------------------------------------)

## Adding and removing items
Not every website is static and new HTML elements make their way into the page after the DOM has loaded. The `ng_append_item()` and  `ng_remove_item()` methods have been designed to allow for new elements to be added to a Navgroup.

{% highlight javascript linenos %}
/* -- get elm in the DOM -- */
var new_item = document.getElementById("new-item");

/* -- add the new item toa navigation group -- */
navigation.ng_append_item(
    new_item , 'ng-name'
);

/* -- Remove the new item toa navigation group -- */
navigation.ng_remove_item(
    new_item , 'ng-name'
);
{% endhighlight %}


[comment]: <> (--------------------------------------------------------------------------------------------------------)
[comment]: <> (--------------------------------------------------------------------------------------------------------)


## Code snippets
Example of the type of HTML markup that is required in order to build a navigation.

{% highlight html linenos %}
<div data-cwc-navgroup="global-nav"
data-cwc-instructions='{ "down" : "ng-prev" , "left" : "ng-global-nav", "up" : "ni-next" }' >
    <div data-cwc-navitem > 01. Item one </div>
    <div data-cwc-navitem > 02. Item two</div>
    <div data-cwc-navitem > 03. Item three</div>
    <div data-cwc-navitem > 03. Item four</div>
</div>
<nav data-cwc-navgroup="global-nav"
data-cwc-instructions='{ "left" : "ni-prev" , "down" : "ng-pre", "right" : "ni-next", "history-item" : "ture" }' >
    <div data-cwc-navitem
      data-cwc-overrides='{"up" : "ng-search"' >
      01. Item one </div>
    <div data-cwc-navitem
      data-cwc-overrides='{"up" : "ng-search"'  >
      02. Item two </div>
    <div data-cwc-navitem >
      03. Item three
    </div>
    <div data-cwc-navitem
      data-cwc-overrides='{"up" : "ng-search", "onitementrance" : "hook-on-enter" }'  >
      04. Item four
    </div>
</nav>
{% endhighlight %}
